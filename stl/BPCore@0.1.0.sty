{-
  Id: urn:ubideco:stl:8UmJsi3csjCEFCEVXvjLeAgvmqxY52iY5EMfTvbyzWx2#energy-baboon-piano
  Name: BPCore
  Version: 0.1.0
  Description: Bitcoin client-side-validation library
  Author: Dr Maxim Orlovsky <orlovsky@lnp-bp.org>
  Copyright (C) 2023-2024 LNP/BP Standards Association. All rights reserved.
  License: Apache-2.0
-}

@context
typelib BPCore

import Std#EcCNgrgLaygt3tCZNu2ZVEzMzSAZYEUeTNAVi5E81YWi#aspirin-mango-average
  use U5#nitro-george-nebula

import CommitVerify#GCWLX5TjFmMDCJr5cxWtwoSajBWDWbkQVSuTNbrtD1tg#egypt-wedding-cupid
  use MerkleTree#side-locate-bonus
  use ProtocolId#gamma-banjo-corona
  use Message#shampoo-bishop-morgan
  use MerkleHash#culture-metro-modular
  use MerkleBlock#miracle-antenna-moral
  use MerkleProof#labor-hilton-magenta
  use TreeNode#risk-opinion-orca

import Bitcoin#HX2UBak8vPsTokug1DGMDvTpzns3xUdwZ7QJdyt4qBA9#speed-atlanta-trilogy
  use Vout#chrome-robin-gallop
  use ScriptBytes#maestro-source-jackson
  use TapNodeHash#crash-culture-jamaica
  use LeafScript#brenda-round-micro
  use Txid#cowboy-diego-betty
  use InternalPk#meter-nerve-chicken
  use LeafVer#tunnel-lagoon-cowboy
  use XOnlyPk#evident-finance-promo


@mnemonic(news-salmon-joker)
data AnchorMerkleBlockOpretProof : mpcProof CommitVerify.MerkleBlock#miracle-antenna-moral
                       , dbcProof OpretProof
                       , method Method

@mnemonic(respect-shake-garage)
data AnchorMerkleBlockTapretProof : mpcProof CommitVerify.MerkleBlock#miracle-antenna-moral
                       , dbcProof TapretProof
                       , method Method

@mnemonic(prince-respond-bank)
data AnchorMerkleProofOpretProof : mpcProof CommitVerify.MerkleProof#labor-hilton-magenta
                       , dbcProof OpretProof
                       , method Method

@mnemonic(modern-savage-recycle)
data AnchorMerkleProofTapretProof : mpcProof CommitVerify.MerkleProof#labor-hilton-magenta
                       , dbcProof TapretProof
                       , method Method

@mnemonic(profile-karl-quebec)
data AnchorMerkleTreeOpretProof : mpcProof CommitVerify.MerkleTree#side-locate-bonus
                       , dbcProof OpretProof
                       , method Method

@mnemonic(tractor-wolf-escape)
data AnchorMerkleTreeTapretProof : mpcProof CommitVerify.MerkleTree#side-locate-bonus
                       , dbcProof TapretProof
                       , method Method

@mnemonic(explore-aspect-ranger)
data BlindSealTxPtr    : method Method
                       , txid TxPtr
                       , vout Bitcoin.Vout#chrome-robin-gallop
                       , blinding U64

@mnemonic(prepare-pluto-cactus)
data BlindSealTxid     : method Method
                       , txid Bitcoin.Txid#cowboy-diego-betty
                       , vout Bitcoin.Vout#chrome-robin-gallop
                       , blinding U64

@mnemonic(british-aloha-mimosa)
data ExplicitSealTxPtr : method Method
                       , txid TxPtr
                       , vout Bitcoin.Vout#chrome-robin-gallop

@mnemonic(think-convert-temple)
data ExplicitSealTxid  : method Method
                       , txid Bitcoin.Txid#cowboy-diego-betty
                       , vout Bitcoin.Vout#chrome-robin-gallop

@mnemonic(trilogy-tahiti-valid)
data Method            : opretFirst | tapretFirst


@mnemonic(segment-ambient-totem)
data OpretProof        : ()

@mnemonic(santana-domingo-needle)
data SecretSeal        : [Byte ^ 32]

@mnemonic(tribal-voltage-object)
data TapretNodePartner : leftNode Bitcoin.TapNodeHash#crash-culture-jamaica
                       | rightLeaf Bitcoin.LeafScript#brenda-round-micro
                       | rightBranch TapretRightBranch

@mnemonic(clark-magic-salon)
data TapretPathProof   : partnerNode TapretNodePartner?, nonce U8

@mnemonic(aurora-bonjour-dinner)
data TapretProof       : pathProof TapretPathProof, internalPk Bitcoin.InternalPk#meter-nerve-chicken

@mnemonic(basket-prelude-bridge)
data TapretRightBranch : leftNodeHash Bitcoin.TapNodeHash#crash-culture-jamaica, rightNodeHash Bitcoin.TapNodeHash#crash-culture-jamaica

@mnemonic(strange-source-father)
data TxPtr             : witnessTx ()
                       | txid Bitcoin.Txid#cowboy-diego-betty


