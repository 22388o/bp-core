{-
  Id: urn:ubideco:stl:6HFQ83t33zW6PgG2pWpXM3HuEUFXAgUjheYiQa2Jdb9c#jester-lorenzo-address
  Name: BPCore
  Version: 0.1.0
  Description: Bitcoin client-side-validation library
  Author: Dr Maxim Orlovsky <orlovsky@lnp-bp.org>
  Copyright (C) 2023-2024 LNP/BP Standards Association. All rights reserved.
  License: Apache-2.0
-}

@context
typelib BPCore

import CommitVerify#4SZ2EgWWtC5LsNXmNpAzogNHZoaZNTCwU3SQhAYwDX6A#citizen-fiction-corner
  use MerkleTree#side-locate-bonus
  use MerkleBlock#portal-slogan-mirage
  use ProtocolId#gamma-banjo-corona
  use Message#shampoo-bishop-morgan
  use MerkleHash#culture-metro-modular
  use MerkleProof#labor-hilton-magenta
  use TreeNode#risk-opinion-orca

import Std#55f8bsTvyh7zAeYAiNwL9G1DxgwXzDvE8edcTFJz3Q9H#milan-poncho-gray
  use U5#nitro-george-nebula

import Bitcoin#HX2UBak8vPsTokug1DGMDvTpzns3xUdwZ7QJdyt4qBA9#speed-atlanta-trilogy
  use Vout#chrome-robin-gallop
  use ScriptBytes#maestro-source-jackson
  use TapNodeHash#crash-culture-jamaica
  use LeafScript#brenda-round-micro
  use Txid#cowboy-diego-betty
  use InternalPk#meter-nerve-chicken
  use LeafVer#tunnel-lagoon-cowboy
  use XOnlyPk#evident-finance-promo


@mnemonic(quest-respect-sound)
data AnchorMerkleBlockOpretProof : txid Bitcoin.Txid#cowboy-diego-betty
                       , mpcProof CommitVerify.MerkleBlock#portal-slogan-mirage
                       , dbcProof OpretProof

@mnemonic(camera-hostel-perform)
data AnchorMerkleBlockTapretProof : txid Bitcoin.Txid#cowboy-diego-betty
                       , mpcProof CommitVerify.MerkleBlock#portal-slogan-mirage
                       , dbcProof TapretProof

@mnemonic(absent-eric-armada)
data AnchorMerkleProofOpretProof : txid Bitcoin.Txid#cowboy-diego-betty
                       , mpcProof CommitVerify.MerkleProof#labor-hilton-magenta
                       , dbcProof OpretProof

@mnemonic(harvest-biscuit-smile)
data AnchorMerkleProofTapretProof : txid Bitcoin.Txid#cowboy-diego-betty
                       , mpcProof CommitVerify.MerkleProof#labor-hilton-magenta
                       , dbcProof TapretProof

@mnemonic(gemini-france-egypt)
data AnchorMerkleTreeOpretProof : txid Bitcoin.Txid#cowboy-diego-betty
                       , mpcProof CommitVerify.MerkleTree#side-locate-bonus
                       , dbcProof OpretProof

@mnemonic(forward-spiral-parade)
data AnchorMerkleTreeTapretProof : txid Bitcoin.Txid#cowboy-diego-betty
                       , mpcProof CommitVerify.MerkleTree#side-locate-bonus
                       , dbcProof TapretProof

@mnemonic(explore-aspect-ranger)
data BlindSealTxPtr    : method Method
                       , txid TxPtr
                       , vout Bitcoin.Vout#chrome-robin-gallop
                       , blinding U64

@mnemonic(prepare-pluto-cactus)
data BlindSealTxid     : method Method
                       , txid Bitcoin.Txid#cowboy-diego-betty
                       , vout Bitcoin.Vout#chrome-robin-gallop
                       , blinding U64

@mnemonic(british-aloha-mimosa)
data ExplicitSealTxPtr : method Method
                       , txid TxPtr
                       , vout Bitcoin.Vout#chrome-robin-gallop

@mnemonic(think-convert-temple)
data ExplicitSealTxid  : method Method
                       , txid Bitcoin.Txid#cowboy-diego-betty
                       , vout Bitcoin.Vout#chrome-robin-gallop

@mnemonic(trilogy-tahiti-valid)
data Method            : opretFirst | tapretFirst


@mnemonic(segment-ambient-totem)
data OpretProof        : ()

@mnemonic(santana-domingo-needle)
data SecretSeal        : [Byte ^ 32]

@mnemonic(tribal-voltage-object)
data TapretNodePartner : leftNode Bitcoin.TapNodeHash#crash-culture-jamaica
                       | rightLeaf Bitcoin.LeafScript#brenda-round-micro
                       | rightBranch TapretRightBranch

@mnemonic(clark-magic-salon)
data TapretPathProof   : partnerNode TapretNodePartner?, nonce U8

@mnemonic(aurora-bonjour-dinner)
data TapretProof       : pathProof TapretPathProof, internalPk Bitcoin.InternalPk#meter-nerve-chicken

@mnemonic(basket-prelude-bridge)
data TapretRightBranch : leftNodeHash Bitcoin.TapNodeHash#crash-culture-jamaica, rightNodeHash Bitcoin.TapNodeHash#crash-culture-jamaica

@mnemonic(strange-source-father)
data TxPtr             : witnessTx ()
                       | txid Bitcoin.Txid#cowboy-diego-betty


