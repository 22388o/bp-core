{-
  Id: motif_retro_sharon_DgNdZjFkQnrnvJS4KbdDzYNUjHcE8f6D1iGLw2gkwyC6
  Name: BPCore
  Description: Consensus layer for bitcoin protocol
  Author: Dr Maxim Orlovsky <orlovsky@lnp-bp.org>
  Copyright (C) 2023 LNP/BP Standards Association. All rights reserved.
  License: Apache-2.0
-}

typelib BPCore -- motif_retro_sharon_DgNdZjFkQnrnvJS4KbdDzYNUjHcE8f6D1iGLw2gkwyC6

import virus_popcorn_toyota_BhKrASuj7PaofxHqqueGrMR1hqiB1ZFUtKqAsYf5NxvC as Bitcoin
import texas_year_ethnic_CPr8tcdPqWZ3KP8dXNPYavTEkbn8PG7CoJHtfwDFKRHJ as CommitVerify


data AnchorId         :: [U8 ^ 32]
data AnchorMerkleBlock :: txid Bitcoin.Txid
                       , mpcProof CommitVerify.MerkleBlock
                       , dbcProof Proof
data AnchorMerkleProof :: txid Bitcoin.Txid
                       , mpcProof CommitVerify.MerkleProof
                       , dbcProof Proof
data AnchorMerkleTree :: txid Bitcoin.Txid
                       , mpcProof CommitVerify.MerkleTree
                       , dbcProof Proof
data BlindSealTxPtr   :: method CloseMethod
                       , txid TxPtr
                       , vout Bitcoin.Vout
                       , blinding U64
data BlindSealTxid    :: method CloseMethod
                       , txid Bitcoin.Txid
                       , vout Bitcoin.Vout
                       , blinding U64
data CloseMethod      :: opretFirst:0 | tapretFirst:1
data ExplicitSealTxPtr :: method CloseMethod
                       , txid TxPtr
                       , vout Bitcoin.Vout
data ExplicitSealTxid :: method CloseMethod
                       , txid Bitcoin.Txid
                       , vout Bitcoin.Vout
data Proof            :: opretFirst ()
                       | tapretFirst TapretProof
data SecretSeal       :: [U8 ^ 32]
data TapretNodePartner :: leftNode Bitcoin.TapNodeHash
                       | rightLeaf Bitcoin.LeafScript
                       | rightBranch TapretRightBranch
data TapretPathProof  :: partnerNode TapretNodePartner?, nonce U8
data TapretProof      :: pathProof TapretPathProof, internalPk Bitcoin.InternalPk
data TapretRightBranch :: leftNodeHash Bitcoin.TapNodeHash, rightNodeHash Bitcoin.TapNodeHash
data TxPtr            :: witnessTx ()
                       | txid Bitcoin.Txid

